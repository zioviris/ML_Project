"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[159],{10405:function(e,t,r){r.d(t,{i:function(){return u}});var n=r(89555),o=r(31014),a=r(27705),s=r(17319),i=r(3293),l=r(88464),c=r(50111);const d=e=>{let{theme:t,getPrefixedClassName:r}=e;const n=r("collapse"),o=`.${n}-item`,a=`.${n}-header`,s=`.${n}-content-box`;return{fontSize:14,[`& > ${o} > ${a}`]:{paddingLeft:0,paddingTop:12,paddingBottom:12,display:"flex",alignItems:"center",fontSize:16,fontWeight:"normal",lineHeight:t.typography.lineHeightLg},[s]:{padding:`${t.spacing.xs}px 0 ${t.spacing.md}px 0`}}};function u(e){const{title:t,forceOpen:r,showServerError:u,defaultCollapsed:p,onChange:h,className:m,componentId:f="mlflow.common.generic_collapsible_section"}=e,g=r&&{activeKey:["1"]},b=p?null:["1"],{theme:y,getPrefixedClassName:x}=(0,s.a)(),{formatMessage:v}=(0,l.A)(),w=(0,o.useCallback)((e=>{let{isActive:r}=e;return(0,c.Y)("div",{css:(0,s.s)({width:y.general.heightBase/2,transform:r?"rotate(90deg)":void 0}),children:(0,c.Y)(s.o,{css:(0,n.AH)({svg:{width:y.general.heightBase/2,height:y.general.heightBase/2}},""),"aria-label":v(r?{id:"iaomsd",defaultMessage:"collapse {title}"}:{id:"dTLq6E",defaultMessage:"expand {title}"},{title:t})})})}),[y,t,v]);return(0,c.Y)(i.nD3,{componentId:f,...g,dangerouslyAppendEmotionCSS:d({theme:y,getPrefixedClassName:x}),dangerouslySetAntdProps:{className:m,expandIconPosition:"left",expandIcon:w},defaultActiveKey:null!==b&&void 0!==b?b:void 0,onChange:h,children:(0,c.Y)(i.nD3.Panel,{header:t,children:(0,c.Y)(a.g,{showServerError:u,children:e.children})},"1")})}},40555:function(e,t,r){r.d(t,{f:function(){return u},y:function(){return l}});var n=r(89555),o=r(31014),a=r(37616),s=r(9133),i=r(50111);const l=e=>{let{json:t,wrapperStyle:r,overlayStyle:o,codeSnippetStyle:s}=e;const{formattedJson:l,isJsonContent:d}=c(t);return(0,i.Y)("div",{style:{position:"relative",maxHeight:"calc(1.5em * 9)",overflow:"hidden",...r},children:d?(0,i.FD)(i.FK,{children:[(0,i.Y)(a.z7,{language:"json",style:{padding:"5px",overflowX:"hidden",...s},children:l}),(0,i.Y)("div",{css:(0,n.AH)({position:"absolute",bottom:0,right:0,left:6,height:"2em",background:"linear-gradient(transparent, white)",...o},"")})]}):(0,i.Y)(i.FK,{children:t})})};function c(e){return o.useMemo((()=>{try{const t=JSON.parse(e),r=(0,s.isObject)(t)&&"function"!==typeof t&&!(t instanceof Date);return{formattedJson:r?JSON.stringify(t,null,2):e,isJsonContent:r}}catch(t){return{formattedJson:e,isJsonContent:!1}}}),[e])}var d={name:"1089mxj",styles:"white-space:pre-wrap"};const u=e=>{let{json:t}=e;const{formattedJson:r,isJsonContent:n}=c(t);return(0,i.Y)("div",{css:d,children:n?(0,i.Y)(a.z7,{language:"json",wrapLongLines:!0,children:r}):(0,i.Y)("span",{children:t})})}},14343:function(e,t,r){r.d(t,{k:function(){return i}});var n=r(89555),o=r(31014),a=r(17319),s=r(50111);const i=o.forwardRef(((e,t)=>{const{pressed:r,onClick:o,icon:i,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,componentId:p,analyticsEvents:h,type:m,...f}=e,{theme:g}=(0,a.a)(),b=(0,a.c)({componentType:a.d.Button,componentId:p,analyticsEvents:null!==h&&void 0!==h?h:[a.b.OnClick]});return(0,s.Y)("button",{onClick:e=>{b.onClick(e),null===o||void 0===o||o(e)},css:(0,n.AH)({cursor:"pointer",width:g.general.heightSm,height:g.general.heightSm,borderRadius:g.legacyBorders.borderRadiusMd,lineHeight:g.typography.lineHeightBase,padding:0,border:0,display:"flex",alignItems:"center",justifyContent:"center",background:r?g.colors.actionDefaultBackgroundPress:"transparent",color:r?g.colors.actionDefaultTextPress:g.colors.textSecondary,"&:hover":{background:g.colors.actionDefaultBackgroundHover,color:g.colors.actionDefaultTextHover}},""),ref:t,onBlur:l,onFocus:c,onMouseEnter:d,onMouseLeave:u,...f,children:i})}))},6091:function(e,t,r){r.r(t),r.d(t,{default:function(){return Q}});var n=r(31014),o=r(51079),a=r.n(o),s=r(10811),i=r(26809),l=r(53140),c=r(89555),d=r(88443),u=r(64912),p=r(3293),h=r(50400),m=r(72877),f=(r(71832),r(51882)),g=r(7871),b=r(87234),y=r(58481),x=r(93215),v=r(85017),w=r(24406),S=r(76010),Y=r(55406),A=r(79085),k=r(10405),M=r(91144),C=r(62680);const E=e=>{const[t,r]=(0,n.useState)({}),[o,a]=(0,n.useState)(!0),[s,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{e.length>0?(async()=>{a(!0),l(null);const t={};try{await Promise.all(e.map((async e=>{const r=(0,i.cN)(e),n=await r.payload;t[e]=n}))),r(t)}catch(n){l(n)}finally{a(!1)}})():(r({}),a(!1))}),[e]),{artifactsKeyedByRun:t,isLoading:o,error:s}};var T=r(17319),N=r(17275),D=r(64408),R=r(50111);var I={name:"1ua6b7f",styles:"display:flex;flex-direction:row;height:100vh"},z={name:"jovua5",styles:"display:flex;flex-direction:row;flex-wrap:wrap"};const L=e=>{let{runUuids:t,runInfos:r,colWidth:o}=e;const{theme:a}=(0,T.a)(),[s,i]=(0,n.useState)(),{artifactsKeyedByRun:l}=E(t),u=(e=>{var t,r,n;const o=Object.keys(e);if(0===o.length)return[];let a=null===(t=e[o[0]])||void 0===t||null===(r=t.files)||void 0===r||null===(n=r.map((e=>e.is_dir?null:e.path)))||void 0===n?void 0:n.filter((e=>null!==e));if(!a||0===a.length)return[];for(let c=1;c<o.length;c++){var s,i,l;const t=null===(s=e[o[c]])||void 0===s||null===(i=s.files)||void 0===i?void 0:i.map((e=>e.path));if(a=null===(l=a)||void 0===l?void 0:l.filter((e=>t.includes(e))),0===a.length)break}return a})(l);return 0===u.length?(0,R.Y)("h2",{children:(0,R.Y)(d.A,{id:"IUAmWX",defaultMessage:"No common artifacts to display."})}):(0,R.FD)("div",{css:I,children:[(0,R.Y)("div",{css:(0,c.AH)({backgroundColor:a.colors.backgroundPrimary,color:a.colors.textPrimary,flex:"1 1 0%",whiteSpace:"nowrap",border:`1px solid ${a.colors.grey300}`,overflowY:"auto"},""),children:(0,R.Y)(N.K,{data:u.map((e=>({id:e,active:s===e,name:(0,D.hA)(e)}))),onToggleTreebeard:e=>{let{id:t}=e;return i(t)}})}),(0,R.Y)("div",{css:(0,c.AH)({border:`1px solid ${a.colors.grey300}`,borderLeft:"none",display:"flex",flexDirection:"column",overflow:"hidden"},""),children:(0,R.Y)("div",{css:z,children:t.map(((e,t)=>(0,R.Y)("div",{style:{width:`${o}px`,borderBottom:`1px solid ${a.colors.grey300}`,padding:s?0:a.spacing.md,overflow:"auto",whiteSpace:"nowrap"},children:(0,R.Y)(C.A,{runUuid:e,artifactRootUri:r[t].artifactUri,path:s})},e)))})})]})};const{TabPane:H}=p.Y6f;var P={name:"m4bh15",styles:"max-height:500px"},U={name:"1o6wc9k",styles:"padding-left:6px"},_={name:"1f6izsi",styles:"max-height:300px"},O={name:"m4bh15",styles:"max-height:500px"};class W extends n.Component{constructor(e){super(e),this.compareRunViewRef=void 0,this.runDetailsTableRef=void 0,this.state={tableWidth:null,onlyShowParamDiff:!0,onlyShowTagDiff:!0,onlyShowMetricDiff:!0},this.onResizeHandler=this.onResizeHandler.bind(this),this.onCompareRunTableScrollHandler=this.onCompareRunTableScrollHandler.bind(this),this.runDetailsTableRef=n.createRef(),this.compareRunViewRef=n.createRef()}onResizeHandler(e){const t=this.runDetailsTableRef.current;if(null!==t){const e=t.clientWidth;this.setState({tableWidth:e})}}onCompareRunTableScrollHandler(e){const t=this.compareRunViewRef.current.querySelectorAll(".compare-run-table");t.forEach(((r,n)=>{const o=t[n];o!==e.target&&(o.scrollLeft=e.target.scrollLeft)}))}componentDidMount(){const e=this.props.intl.formatMessage({id:"ufamzi",defaultMessage:"Comparing {runs} MLflow Runs"},{runs:this.props.runInfos.length});S.A.updatePageTitle(e),window.addEventListener("resize",this.onResizeHandler,!0),window.dispatchEvent(new Event("resize"))}componentWillUnmount(){window.removeEventListener("resize",this.onResizeHandler,!0)}getTableColumnWidth(){let e=200;return null!==this.state.tableWidth&&(e=Math.round(this.state.tableWidth/(this.props.runInfos.length+1)),e<200&&(e=200)),e}renderExperimentNameRowItems(){const{experiments:e}=this.props,t=S.A.getExperimentNameMap(S.A.sortExperimentsById(e));return this.props.runInfos.map((e=>{let{experimentId:r,runUuid:n}=e;const{name:o,basename:a}=t[r];return(0,R.Y)(p.nA6,{className:"meta-info",children:(0,R.Y)(x.N_,{to:y.h.getExperimentPageRoute(r),title:o,children:a})},n)}))}hasMultipleExperiments(){return this.props.experimentIds.length>1}shouldShowExperimentNameRow(){return this.props.hasComparedExperimentsBefore||this.hasMultipleExperiments()}getExperimentPageLink(e,t){return(0,R.Y)(x.N_,{to:y.h.getExperimentPageRoute(e),children:t})}getCompareExperimentsPageLinkText(e){return(0,R.Y)(d.A,{id:"YkcoeV",defaultMessage:"Displaying Runs from {numExperiments} Experiments",values:{numExperiments:e}})}getCompareExperimentsPageLink(e){return(0,R.Y)(x.N_,{to:y.h.getCompareExperimentsPageRoute(e),children:this.getCompareExperimentsPageLinkText(e.length)})}getExperimentLink(){const{comparedExperimentIds:e,hasComparedExperimentsBefore:t,experimentIds:r,experiments:n}=this.props;return r[0]&&n[0]?t?this.getCompareExperimentsPageLink(e):this.hasMultipleExperiments()?this.getCompareExperimentsPageLink(r):this.getExperimentPageLink(r[0],n[0].name):""}getTitle(){return this.hasMultipleExperiments()?(0,R.Y)(d.A,{id:"IEORCP",defaultMessage:"Comparing {numRuns} Runs from {numExperiments} Experiments",values:{numRuns:this.props.runInfos.length,numExperiments:this.props.experimentIds.length}}):(0,R.Y)(d.A,{id:"NN0ScV",defaultMessage:"Comparing {numRuns} Runs from 1 Experiment",values:{numRuns:this.props.runInfos.length}})}renderParamTable(e){const t=this.renderDataRows(this.props.paramLists,e,this.state.onlyShowParamDiff,!0,((e,t)=>e),(e=>{try{const t=F(e);return"object"===typeof t&&null!==t?this.renderPrettyJson(t):e}catch(t){return e}}));return 0===t.length?(0,R.Y)("h2",{children:(0,R.Y)(d.A,{id:"lNO3kK",defaultMessage:"No parameters to display."})}):(0,R.Y)(p.XIK,{className:"table compare-table compare-run-table",css:P,onScroll:this.onCompareRunTableScrollHandler,children:t})}renderPrettyJson(e){return(0,R.Y)("pre",{children:JSON.stringify(e,null,2)})}renderMetricTable(e,t){const r=this.renderDataRows(this.props.metricLists,e,this.state.onlyShowMetricDiff,!1,((e,r)=>(0,R.FD)(x.N_,{to:y.h.getMetricPageRoute(this.props.runInfos.map((e=>e.runUuid)).filter(((e,t)=>void 0!==r[t])),e,t),title:"Plot chart",children:[e,(0,R.Y)("i",{className:"fas fa-chart-line",css:U})]})),S.A.formatMetric);return 0===r.length?(0,R.Y)("h2",{children:(0,R.Y)(d.A,{id:"eBGO2d",defaultMessage:"No metrics to display."})}):(0,R.Y)(p.XIK,{className:"table compare-table compare-run-table",css:_,onScroll:this.onCompareRunTableScrollHandler,children:r})}renderArtifactTable(e){return(0,R.Y)(L,{runUuids:this.props.runUuids,runInfos:this.props.runInfos,colWidth:e})}renderTagTable(e){const t=this.renderDataRows(this.props.tagLists,e,this.state.onlyShowTagDiff,!0);return 0===t.length?(0,R.Y)("h2",{children:(0,R.Y)(d.A,{id:"m9e01X",defaultMessage:"No tags to display."})}):(0,R.Y)(p.XIK,{className:"table compare-table compare-run-table",css:O,onScroll:this.onCompareRunTableScrollHandler,children:t})}renderTimeRows(e){const t=(0,R.Y)(d.A,{id:"Zc48NC",defaultMessage:"(unknown)"}),r=this.props.runInfos.map((e=>{const r=e.startTime,n=e.endTime;return{runUuid:e.runUuid,startTime:r?S.A.formatTimestamp(r,this.props.intl):t,endTime:n?S.A.formatTimestamp(n,this.props.intl):t,duration:r&&n?S.A.getDuration(r,n):t}}));return[{key:"startTime",title:(0,R.Y)(d.A,{id:"O9r1RR",defaultMessage:"Start Time:"}),data:r.map((e=>{let{runUuid:t,startTime:r}=e;return[t,r]}))},{key:"endTime",title:(0,R.Y)(d.A,{id:"G0gYkS",defaultMessage:"End Time:"}),data:r.map((e=>{let{runUuid:t,endTime:r}=e;return[t,r]}))},{key:"duration",title:(0,R.Y)(d.A,{id:"7kUi8J",defaultMessage:"Duration:"}),data:r.map((e=>{let{runUuid:t,duration:r}=e;return[t,r]}))}].map((t=>{let{key:r,title:n,data:o}=t;return(0,R.FD)(p.Hjg,{className:"compare-table-row",children:[(0,R.Y)(p.nA6,{className:"head-value sticky-header",css:(0,c.AH)({backgroundColor:"var(--table-header-background-color)",...e},""),children:n}),o.map((t=>{let[r,n]=t;return(0,R.Y)(p.nA6,{className:"data-value",css:e,children:(0,R.Y)(p.paO,{title:n,color:"gray",placement:"topLeft",overlayStyle:{maxWidth:"400px"},dangerouslySetAntdProps:{mouseEnterDelay:1},children:n})},r)}))]},r)}))}render(){const{experimentIds:e}=this.props,{runInfos:t,runNames:r,paramLists:n,metricLists:o,runUuids:a}=this.props,s=this.getTableColumnWidth(),i=this.genWidthStyle(s),l=this.getTitle();let u=[this.getExperimentLink()];const m=this.props.intl.formatMessage({id:"eOxs/C",defaultMessage:"Parameters"}),v=this.props.intl.formatMessage({id:"frPtD/",defaultMessage:"Metrics"}),w=this.props.intl.formatMessage({id:"Ccc4/4",defaultMessage:"Artifacts"}),S=this.props.intl.formatMessage({id:"9KXBFn",defaultMessage:"Tags"}),C=this.props.intl.formatMessage({id:"VP+qFF",defaultMessage:"Show diff only"}),E=!(0,M.g$)();return(0,R.FD)("div",{className:"CompareRunView",ref:this.compareRunViewRef,children:[(0,R.Y)(A.z,{title:l,breadcrumbs:u,spacerSize:"xs"}),E&&(0,R.Y)(k.i,{title:this.props.intl.formatMessage({id:"S7ESYH",defaultMessage:"Visualizations"}),children:(0,R.FD)(p.Y6f,{children:[(0,R.Y)(H,{tab:(0,R.Y)(d.A,{id:"sTp/V3",defaultMessage:"Parallel Coordinates Plot"}),children:(0,R.Y)(Y.Ay,{runUuids:this.props.runUuids})},"parallel-coordinates-plot"),(0,R.Y)(H,{tab:(0,R.Y)(d.A,{id:"OimAJb",defaultMessage:"Scatter Plot"}),children:(0,R.Y)(f.J,{runUuids:this.props.runUuids,runDisplayNames:this.props.runDisplayNames})},"scatter-plot"),(0,R.Y)(H,{tab:(0,R.Y)(d.A,{id:"iXb99e",defaultMessage:"Box Plot"}),children:(0,R.Y)(g.e,{runUuids:a,runInfos:t,paramLists:n,metricLists:o})},"box-plot"),(0,R.Y)(H,{tab:(0,R.Y)(d.A,{id:"B80MC6",defaultMessage:"Contour Plot"}),children:(0,R.Y)(b.A,{runUuids:this.props.runUuids,runDisplayNames:this.props.runDisplayNames})},"contour-plot")]})}),(0,R.Y)(k.i,{title:this.props.intl.formatMessage({id:"lISqyJ",defaultMessage:"Run details"}),children:(0,R.FD)(p.XIK,{className:"table compare-table compare-run-table",ref:this.runDetailsTableRef,onScroll:this.onCompareRunTableScrollHandler,children:[(0,R.FD)(p.Hjg,{className:"compare-table-row",children:[(0,R.Y)(p.nA6,{className:"head-value sticky-header",css:(0,c.AH)({backgroundColor:"var(--table-header-background-color)",...i},""),children:(0,R.Y)(d.A,{id:"/2MZix",defaultMessage:"Run ID:"})}),this.props.runInfos.map((e=>{var t,r;return(0,R.Y)(p.nA6,{className:"data-value",css:i,children:(0,R.Y)(p.paO,{title:e.runUuid,color:"gray",placement:"topLeft",overlayStyle:{maxWidth:"400px"},mouseEnterDelay:1,children:(0,R.Y)(x.N_,{to:y.h.getRunPageRoute(null!==(t=e.experimentId)&&void 0!==t?t:"0",null!==(r=e.runUuid)&&void 0!==r?r:""),children:e.runUuid})})},e.runUuid)}))]}),(0,R.FD)(p.Hjg,{className:"compare-table-row",children:[(0,R.Y)(p.nA6,{className:"head-value sticky-header",css:(0,c.AH)({backgroundColor:"var(--table-header-background-color)",...i},""),children:(0,R.Y)(d.A,{id:"DUnrWL",defaultMessage:"Run Name:"})}),r.map(((e,r)=>(0,R.Y)(p.nA6,{className:"data-value",css:i,children:(0,R.Y)("div",{className:"truncate-text single-line",children:(0,R.Y)(p.paO,{title:e,color:"gray",placement:"topLeft",overlayStyle:{maxWidth:"400px"},mouseEnterDelay:1,children:e})})},t[r].runUuid)))]}),this.renderTimeRows(i),this.shouldShowExperimentNameRow()&&(0,R.FD)(p.Hjg,{className:"compare-table-row",children:[(0,R.Y)(p.nA6,{className:"data-value",children:(0,R.Y)(d.A,{id:"Qsgg+9",defaultMessage:"Experiment Name:"})}),this.renderExperimentNameRowItems()]})]})}),(0,R.FD)(k.i,{title:m,children:[(0,R.Y)(p.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_comparerunview.tsx_570",label:C,"aria-label":[m,C].join(" - "),checked:this.state.onlyShowParamDiff,onChange:(e,t)=>this.setState({onlyShowParamDiff:e})}),(0,R.Y)(h.S,{size:"lg"}),this.renderParamTable(s)]}),(0,R.FD)(k.i,{title:v,children:[(0,R.Y)(p.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_comparerunview.tsx_581",label:C,"aria-label":[v,C].join(" - "),checked:this.state.onlyShowMetricDiff,onChange:(e,t)=>this.setState({onlyShowMetricDiff:e})}),(0,R.Y)(h.S,{size:"lg"}),this.renderMetricTable(s,e)]}),(0,R.Y)(k.i,{title:w,children:this.renderArtifactTable(s)}),(0,R.FD)(k.i,{title:S,children:[(0,R.Y)(p.dOG,{componentId:"codegen_mlflow_app_src_experiment-tracking_components_comparerunview.tsx_592",label:C,"aria-label":[S,C].join(" - "),checked:this.state.onlyShowTagDiff,onChange:(e,t)=>this.setState({onlyShowTagDiff:e})}),(0,R.Y)(h.S,{size:"lg"}),this.renderTagTable(s)]})]})}genWidthStyle(e){return{width:`${e}px`,minWidth:`${e}px`,maxWidth:`${e}px`}}renderDataRows(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(e,t)=>e,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e=>e;const s=w.A.getKeys(e),i={};s.forEach((t=>i[t]={values:Array(e.length).fill(void 0)})),e.forEach(((e,t)=>{e.forEach((e=>i[e.key].values[t]=e.value))})),s.forEach((e=>{return i[e].hasDiff=(t=i[e].values).some((e=>e!==t[0]));var t}));const l=this.genWidthStyle(t);return s.filter((e=>!r||i[e].hasDiff)).map((e=>{const{values:t,hasDiff:r}=i[e],s=n&&r?"diff-row":void 0;return(0,R.FD)(p.Hjg,{className:`${s} compare-table-row`,children:[(0,R.Y)(p.nA6,{className:"head-value sticky-header",css:(0,c.AH)({backgroundColor:"var(--table-header-background-color)",...l},""),children:o(e,t)}),t.map(((e,t)=>{const r=void 0===e?"":a(e);return(0,R.Y)(p.nA6,{className:"data-value",css:l,children:(0,R.Y)(p.paO,{title:r,color:"gray",placement:"topLeft",overlayStyle:{maxWidth:"400px"},mouseEnterDelay:1,children:(0,R.Y)("span",{className:"truncate-text single-line",children:r})})},this.props.runInfos[t].runUuid)}))]},e)}))}}const F=e=>{try{const t=e.replace(/'/g,'"');return JSON.parse(t)}catch(t){return null}};var B=(0,s.Ng)(((e,t)=>{const{comparedExperimentIds:r,hasComparedExperimentsBefore:n}=e.compareExperiments,o=[],a=[],s=[],i=[],l=[],c=[],{experimentIds:d,runUuids:u}=t,p=d.map((t=>(0,m._m)(t,e)));return u.forEach((t=>{const r=(0,m.K4)(t,e);if(!r)return;o.push(r),a.push(Object.values((0,v.d0)(t,e))),s.push(Object.values((0,m.tI)(t,e)));const n=(0,m.X3)(t,e),d=S.A.getVisibleTagValues(n).map((e=>{let[t,r]=e;return{key:t,value:r}}));i.push(d),c.push(S.A.getRunDisplayName(r,t)),l.push(S.A.getRunName(r))})),{experiments:p,runInfos:o,metricLists:a,paramLists:s,tagLists:i,runNames:l,runDisplayNames:c,comparedExperimentIds:r,hasComparedExperimentsBefore:n}}))((0,u.Ay)(W)),j=r(7204),V=r(48588),J=r(25869),q=r(20109),$=r(62448);class K extends n.Component{constructor(e){super(e),this.requestIds=void 0,this.state={requestError:void 0},this.requestIds=[]}fetchExperiments(){return this.props.experimentIds.map((e=>{const t=(0,j.yk)();return this.props.dispatch((0,i.yc)(e,t)).catch((e=>this.setState({requestError:e}))),t}))}componentDidMount(){this.requestIds.push(...this.fetchExperiments()),this.props.runUuids.forEach((e=>{const t=(0,j.yk)();this.requestIds.push(t),this.props.dispatch((0,i.aO)(e,t)).catch((e=>{this.setState({requestError:e})}))}))}render(){if(this.state.requestError){var e;const{requestError:t}=this.state;throw t instanceof Error?t:new Error(null===(e=t.getMessageField)||void 0===e?void 0:e.call(t))}return(0,R.Y)(V.L,{children:(0,R.Y)(l.Ay,{suppressErrorThrow:!0,requestIds:this.requestIds,children:(0,R.Y)(B,{runUuids:this.props.runUuids,experimentIds:this.props.experimentIds})})})}}const X=e=>{const t=decodeURIComponent(e);return e!==t?X(t):t};var G={name:"64bku7",styles:"height:100%;align-items:center;justify-content:center;display:flex"};const Z=(0,J.h)((0,s.Ng)(((e,t)=>{try{const{location:e}=t,r=X(e.search),n=a().parse(r),o=JSON.parse(n["?runs"]);return{experimentIds:JSON.parse(n.experiments),runUuids:o}}catch(r){if(r instanceof SyntaxError)throw new SyntaxError(`Error while parsing URL: ${r.message}`);throw r}}))(K));var Q=(0,q.X)($.A.mlflowServices.RUN_TRACKING,Z,void 0,(e=>{let{error:t}=e;return(0,R.Y)("div",{css:G,children:(0,R.Y)(p.SvL,{title:(0,R.Y)(d.A,{id:"ua6IVs",defaultMessage:"Error while loading compare runs page"}),description:t.message,image:(0,R.Y)(T._,{})})})}))},54421:function(e,t,r){r.d(t,{Rn:function(){return m},TV:function(){return h},hZ:function(){return u},mQ:function(){return y},pG:function(){return p}});var n=r(89555),o=r(17319),a=r(3293),s=r(88443),i=r(77484),l=r(31014),c=r(46536),d=r(50111);const u=10,p=(e,t)=>{const r=Math.floor(t/120);return e<r?Math.min(t/e-u,225):t/r-u},h=e=>{let{imageUrl:t,compressedImageUrl:r,imageSize:a,maxImageSize:s}=e;const[i,u]=(0,l.useState)(!1),{theme:p}=(0,o.a)(),[h,m]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{m(!0);const e=new window.Image;return e.onload=()=>m(!1),e.onerror=()=>m(!1),e.src=r,()=>{e.src=""}}),[r]),(0,d.Y)("div",{css:(0,n.AH)({width:a,height:a||"100%"},""),children:(0,d.Y)("div",{css:(0,n.AH)({height:a||"100%"},""),children:void 0===r||h?(0,d.Y)("div",{css:(0,n.AH)({height:"100%",backgroundColor:p.colors.backgroundSecondary,display:"flex",justifyContent:"center",alignItems:"center"},""),children:(0,d.Y)(o.S,{})}):(0,d.Y)("div",{css:(0,n.AH)({display:"flex",alignItems:"center",justifyContent:"center",width:a||"100%",height:a||"100%",maxWidth:s,maxHeight:s,backgroundColor:p.colors.backgroundSecondary,"& .ant-image":{height:"100%",display:"flex",alignItems:"center"}},""),children:(0,d.Y)(c.b,{visible:i,onVisibleChange:u,children:(0,d.Y)(c._,{src:r,preview:{src:t},style:{maxWidth:s||"100%",maxHeight:s||"100%"}})})})})})},m=e=>{let{metadataByStep:t,imageSize:r,step:l,runUuid:c}=e;const{theme:u}=(0,o.a)();return void 0===t[l]?(0,d.FD)("div",{css:(0,n.AH)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:r,height:r,backgroundColor:u.colors.backgroundSecondary,padding:u.spacing.md},""),children:[(0,d.Y)(a.xfq,{}),(0,d.Y)(s.A,{id:"0XZ2zu",defaultMessage:"No image logged at this step"})]}):(0,d.Y)(h,{imageUrl:(0,i.To)(t[l].filepath,c),compressedImageUrl:(0,i.To)(t[l].compressed_filepath,c),imageSize:r})};var f={name:"1pf7ok1",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;width:100%;font-size:16px"},g={name:"yz1nei",styles:"margin-top:16px"},b={name:"18uqayh",styles:"margin-bottom:16px"};const y=()=>(0,d.FD)("div",{css:f,children:[(0,d.Y)(o.r.Title,{css:g,color:"secondary",level:3,children:"Compare logged images"}),(0,d.Y)(o.r.Text,{css:b,color:"secondary",children:"Use the image grid chart to compare logged images across runs."})]})},56412:function(e,t,r){r.d(t,{i:function(){return c}});var n=r(31014),o=r(88443),a=r(3293),s=r(17319),i=r(50111);var l={name:"1739oy8",styles:"z-index:1"};const c=e=>{let{copyText:t,showLabel:r=!0,componentId:c,...d}=e;const[u,p]=(0,n.useState)(!1);return(0,i.Y)(a.paO,{title:(0,i.Y)(o.A,{id:"X+boXI",defaultMessage:"Copied"}),dangerouslySetAntdProps:{visible:u},children:(0,i.Y)(s.B,{componentId:null!==c&&void 0!==c?c:"mlflow.shared.copy_button",type:"primary",onClick:()=>{navigator.clipboard.writeText(t),p(!0),setTimeout((()=>{p(!1)}),3e3)},onMouseLeave:()=>{p(!1)},css:l,children:r?(0,i.Y)(o.A,{id:"1Iq+NW",defaultMessage:"Copy"}):void 0,...d})})}},46536:function(e,t,r){r.d(t,{_:function(){return s.A},b:function(){return c}});var n=r(3293),o=r(17319),a=r(31014),s=r(10298),i=r(50111);const l={rotateLeft:(0,i.Y)(n.ejX,{}),rotateRight:(0,i.Y)(n.UfX,{}),zoomIn:(0,i.Y)(n.ADv,{}),zoomOut:(0,i.Y)(n.LoD,{}),close:(0,i.Y)(o.C,{}),left:(0,i.Y)(n.A60,{}),right:(0,i.Y)(n.flY,{})},c=e=>{let{children:t,visible:r,onVisibleChange:n}=e;const{getPopupContainer:c}=(0,a.useContext)(o.ai);return(0,i.Y)(s.A.PreviewGroup,{icons:l,preview:{visible:r,getContainer:c,onVisibleChange:e=>n(e)},children:t})}},37616:function(e,t,r){r.d(t,{z7:function(){return p}});var n=r(17729),o=r(74702),a=r(42346);var s={'code[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC"},'pre[class*="language-"]':{fontFamily:'Consolas, Menlo, Monaco, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", "Courier New", Courier, monospace',fontSize:"14px",lineHeight:"1.375",direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",background:"#2a2734",color:"#5DFAFC",padding:"1em",margin:".5em 0",overflow:"auto"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"]::selection':{textShadow:"none",background:"#6a51e6"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#6a51e6"},':not(pre) > code[class*="language-"]':{padding:".1em",borderRadius:".3em"},comment:{color:"#6c6783"},prolog:{color:"#6c6783"},doctype:{color:"#6c6783"},cdata:{color:"#6c6783"},punctuation:{color:"#6c6783"},namespace:{Opacity:".7"},tag:{color:"#3AACE2"},operator:{color:"#3AACE2"},number:{color:"#3AACE2"},property:{color:"#5DFAFC"},function:{color:"#5DFAFC"},"tag-id":{color:"#eeebff"},selector:{color:"#eeebff"},"atrule-id":{color:"#eeebff"},"code.language-javascript":{color:"#c4b9fe"},"attr-name":{color:"#c4b9fe"},"code.language-css":{color:"#ffffff"},"code.language-scss":{color:"#ffffff"},boolean:{color:"#ffffff"},string:{color:"#ffffff"},entity:{color:"#ffffff",cursor:"help"},url:{color:"#ffffff"},".language-css .token.string":{color:"#ffffff"},".language-scss .token.string":{color:"#ffffff"},".style .token.string":{color:"#ffffff"},"attr-value":{color:"#ffffff"},keyword:{color:"#ffffff"},control:{color:"#ffffff"},directive:{color:"#ffffff"},unit:{color:"#ffffff"},statement:{color:"#ffffff"},regex:{color:"#ffffff"},atrule:{color:"#ffffff"},placeholder:{color:"#ffffff"},variable:{color:"#ffffff"},deleted:{textDecoration:"line-through"},inserted:{borderBottom:"1px dotted #eeebff",textDecoration:"none"},italic:{fontStyle:"italic"},important:{fontWeight:"bold",color:"#c4b9fe"},bold:{fontWeight:"bold"},"pre > code.highlight":{Outline:".4em solid #8a75f5",OutlineOffset:".4em"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"#2c2937"},".line-numbers .line-numbers-rows > span:before":{color:"#3c3949"},".line-highlight.line-highlight":{background:"linear-gradient(to right, rgba(224, 145, 66, 0.2) 70%, rgba(224, 145, 66, 0))"}};var i={'code[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",color:"rgb(77, 77, 76)",background:"#fafafa",fontFamily:"Monaco, Menlo, Ubuntu Mono, Consolas, source-code-pro, monospace",fontSize:"12px",lineHeight:"1.5em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",overflow:"auto",position:"relative",margin:"0.5em 0",padding:"1.25em 1em"},'code[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::-moz-selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"]::selection':{background:"#cceae7",color:"#263238"},'code[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},'pre[class*="language-"] ::selection':{background:"#cceae7",color:"#263238"},':not(pre) > code[class*="language-"]':{whiteSpace:"normal",borderRadius:"0.2em",padding:"0.1em"},".language-css > code":{color:"#f5871f"},".language-sass > code":{color:"#f5871f"},".language-scss > code":{color:"#f5871f"},'[class*="language-"] .namespace':{Opacity:"0.7"},atrule:{color:"#7c4dff"},"attr-name":{color:"#39adb5"},"attr-value":{color:"#f6a434"},attribute:{color:"#f6a434"},boolean:{color:"#7c4dff"},builtin:{color:"#39adb5"},cdata:{color:"#39adb5"},char:{color:"#39adb5"},class:{color:"#39adb5"},"class-name":{color:"#6182b8"},comment:{color:"#8e908c"},constant:{color:"#7c4dff"},deleted:{color:"#e53935"},doctype:{color:"#aabfc9"},entity:{color:"#e53935"},function:{color:"#4271ae"},hexcode:{color:"#f5871f"},id:{color:"#7c4dff",fontWeight:"bold"},important:{color:"#7c4dff",fontWeight:"bold"},inserted:{color:"#39adb5"},keyword:{color:"#8959a8"},number:{color:"#f5871f"},operator:{color:"#3e999f"},prolog:{color:"#aabfc9"},property:{color:"#39adb5"},"pseudo-class":{color:"#f6a434"},"pseudo-element":{color:"#f6a434"},punctuation:{color:"rgb(77, 77, 76)"},regex:{color:"#6182b8"},selector:{color:"#e53935"},string:{color:"#3ba85f"},symbol:{color:"#7c4dff"},tag:{color:"#e53935"},unit:{color:"#f5871f"},url:{color:"#e53935"},variable:{color:"#c72d4c"}},l=r(9133),c=r(50111);n.A.registerLanguage("python",o.A),n.A.registerLanguage("json",a.A);const d="24px",u={light:i,duotoneDark:s};function p(e){let{theme:t="light",language:r,actions:o,style:a,children:s,showLineNumbers:i,lineNumberStyle:p,wrapLongLines:h}=e;const m={border:"none",borderRadius:0,margin:0,padding:d,...a};return(0,c.Y)(n.A,{showLineNumbers:i,lineNumberStyle:p,language:r,style:u[t],customStyle:m,codeTagProps:{style:(0,l.pick)(a,"backgroundColor")},wrapLongLines:h,children:s})}}}]);
//# sourceMappingURL=159.f257f0fa.chunk.js.map